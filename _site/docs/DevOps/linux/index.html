<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Linux shell Best Debug command line tools - Benoit MARECHAL</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Linux shell Best Debug command line tools | Benoit MARECHAL</title> <meta name="generator" content="Jekyll v4.3.1" /> <meta property="og:title" content="Linux shell Best Debug command line tools" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/docs/DevOps/linux/" /> <meta property="og:url" content="http://localhost:4000/docs/DevOps/linux/" /> <meta property="og:site_name" content="Benoit MARECHAL" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Linux shell Best Debug command line tools" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Linux shell Best Debug command line tools","url":"http://localhost:4000/docs/DevOps/linux/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Benoit MARECHAL </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/devops" class="nav-list-link">DevOps</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/docs/DevOps/linux/" class="nav-list-link active">Linux shell Best Debug command line tools</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/DevOps/powershell/" class="nav-list-link">PowerShell Debug Tools for DevOps</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/DevOps/windows/" class="nav-list-link">Windows Best Debug Tools</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/web-architecture" class="nav-list-link">Web Architecture</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/WebArchitecture/HA/" class="nav-list-link">High Availability</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Benoit MARECHAL" aria-label="Search Benoit MARECHAL" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/devops">DevOps</a></li> <li class="breadcrumb-nav-list-item"><span>Linux shell Best Debug command line tools</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p style="text-align: center;"><img src="/images/linux-logo.png" width="128px" /></p> <h1 id="linux-debug-tools-for-ops-and-devops"> <a href="#linux-debug-tools-for-ops-and-devops" class="anchor-heading" aria-labelledby="linux-debug-tools-for-ops-and-devops"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Linux Debug Tools For Ops and Devops </h1> <p>Mainly specific client protocol to test specific server protocol, like curl to test an http server, ldapsearch for a ldap server or mail to test a SMTP relay etc.</p> <p>But you will also find many ways to set proxy settings on your tools.</p> <p>There are usefull tools during the deployment stages in qualification, staging, or production environment (remove them after troubleshooting).</p> <p>Tags: DevOps, Debug, tools, linux, ops, deploy, interface, testing</p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#linux-debug-tools-for-ops-and-devops" id="markdown-toc-linux-debug-tools-for-ops-and-devops">Linux Debug Tools For Ops and Devops</a></li> <li><a href="#tldr-install-all-this-interfaces-debug-tools" id="markdown-toc-tldr-install-all-this-interfaces-debug-tools">TLDR; Install all this interfaces debug tools</a></li> <li><a href="#tcp-client" id="markdown-toc-tcp-client">TCP Client</a> <ol> <li><a href="#tcp-parameters" id="markdown-toc-tcp-parameters">TCP Parameters</a></li> <li><a href="#tcp-test-with-telnet" id="markdown-toc-tcp-test-with-telnet">TCP Test with Telnet</a></li> </ol> </li> <li><a href="#ftp--sftp-client" id="markdown-toc-ftp--sftp-client">FTP &amp; SFTP Client</a> <ol> <li><a href="#ftp-parameters" id="markdown-toc-ftp-parameters">FTP parameters</a></li> <li><a href="#ftp-testing" id="markdown-toc-ftp-testing">FTP Testing</a></li> </ol> </li> <li><a href="#http--https-client" id="markdown-toc-http--https-client">HTTP &amp; HTTPS Client</a> <ol> <li><a href="#http-parameter" id="markdown-toc-http-parameter">HTTP Parameter</a></li> <li><a href="#http-testing-with-curl" id="markdown-toc-http-testing-with-curl">HTTP Testing with Curl</a></li> </ol> </li> <li><a href="#dns-client" id="markdown-toc-dns-client">DNS Client</a> <ol> <li><a href="#dns-parameters" id="markdown-toc-dns-parameters">DNS Parameters</a></li> <li><a href="#dns-discovery" id="markdown-toc-dns-discovery">DNS discovery</a></li> <li><a href="#dns-test--ip-resolution-from-host" id="markdown-toc-dns-test--ip-resolution-from-host">DNS Test : Ip resolution from Host</a></li> </ol> </li> <li><a href="#ldap--ldaps-client" id="markdown-toc-ldap--ldaps-client">LDAP &amp; LDAPS Client</a> <ol> <li><a href="#ldap-parameters" id="markdown-toc-ldap-parameters">LDAP Parameters</a></li> <li><a href="#ldap-test" id="markdown-toc-ldap-test">LDAP Test</a></li> </ol> </li> <li><a href="#smtp-client" id="markdown-toc-smtp-client">SMTP Client</a> <ol> <li><a href="#smtp-parameters" id="markdown-toc-smtp-parameters">SMTP Parameters</a></li> <li><a href="#smtp-test-with-mail-command" id="markdown-toc-smtp-test-with-mail-command">SMTP Test with Mail command</a></li> <li><a href="#smtp-testing-with-telnet" id="markdown-toc-smtp-testing-with-telnet">SMTP Testing with Telnet</a></li> </ol> </li> <li><a href="#git-client" id="markdown-toc-git-client">GIT Client</a> <ol> <li><a href="#git-parameter" id="markdown-toc-git-parameter">Git Parameter</a></li> <li><a href="#git-testing" id="markdown-toc-git-testing">Git Testing</a></li> </ol> </li> <li><a href="#show-listened-ports" id="markdown-toc-show-listened-ports">Show Listened ports</a></li> <li><a href="#proxy-http--reach-a-http-serveur-through-a-proxy" id="markdown-toc-proxy-http--reach-a-http-serveur-through-a-proxy">PROXY HTTP : Reach a HTTP serveur Through a Proxy</a> <ol> <li><a href="#set-proxy-globaly-on-linux" id="markdown-toc-set-proxy-globaly-on-linux">Set proxy globaly on linux</a></li> <li><a href="#curl-behind-a-proxy" id="markdown-toc-curl-behind-a-proxy">Curl behind a proxy</a></li> <li><a href="#git-behind-a-proxy" id="markdown-toc-git-behind-a-proxy">Git behind a proxy</a></li> <li><a href="#docker-behind-a-proxy" id="markdown-toc-docker-behind-a-proxy">Docker behind a proxy</a> <ol> <li><a href="#docker-daemon-add-proxy-settings" id="markdown-toc-docker-daemon-add-proxy-settings">Docker daemon add proxy settings</a></li> <li><a href="#docker-build-behind-proxy" id="markdown-toc-docker-build-behind-proxy">Docker build behind Proxy</a></li> </ol> </li> <li><a href="#npm-javascript-packager-behind-a-proxy" id="markdown-toc-npm-javascript-packager-behind-a-proxy">NPM (Javascript packager) behind a Proxy</a></li> <li><a href="#pip-python-packager-behind-a-proxy" id="markdown-toc-pip-python-packager-behind-a-proxy">PIP (Python packager) behind a Proxy</a></li> <li><a href="#gitlab-runner-behind-a-proxy" id="markdown-toc-gitlab-runner-behind-a-proxy">Gitlab Runner behind a proxy</a></li> <li><a href="#maven-java-packaging" id="markdown-toc-maven-java-packaging">Maven (Java Packaging)</a></li> </ol> </li> </ol> <h1 id="tldr-install-all-this-interfaces-debug-tools"> <a href="#tldr-install-all-this-interfaces-debug-tools" class="anchor-heading" aria-labelledby="tldr-install-all-this-interfaces-debug-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TLDR; Install all this interfaces debug tools </h1> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dnf <span class="nb">install</span> <span class="nt">-y</span>  net-tools <span class="se">\</span>
                bind-utils <span class="se">\</span>
                openldap-clients <span class="se">\</span>
                mailx <span class="se">\</span>
                wget <span class="se">\</span>
                git <span class="se">\</span>
                curl <span class="se">\</span>
                telnet
</code></pre></div></div> <h1 id="tcp-client"> <a href="#tcp-client" class="anchor-heading" aria-labelledby="tcp-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TCP Client </h1> <h2 id="tcp-parameters"> <a href="#tcp-parameters" class="anchor-heading" aria-labelledby="tcp-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TCP Parameters </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">TCP_HOST</span><span class="o">=</span>my.domain.tld      <span class="c"># or : "localhost", or ip like 192.168.0.10.</span>
<span class="nv">TCP_PORT</span><span class="o">=</span>80                 <span class="c"># ex: port 22 (ssh) ou 80 (http) etc.</span>
</code></pre></div></div> <h2 id="tcp-test-with-telnet"> <a href="#tcp-test-with-telnet" class="anchor-heading" aria-labelledby="tcp-test-with-telnet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TCP Test with Telnet </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># dnf install -y telnet # apt install -y telnet # yum install -y telnet </span>

telnet <span class="nv">$TCP_HOST</span> <span class="nv">$TCP_PORT</span>

telnet my.hostname.tld 443 <span class="c"># example</span>

</code></pre></div></div> <blockquote> <p>For UDP use nc : <code class="language-plaintext highlighter-rouge">nc -z -v -u $UDP_HOST $UDP_PORT</code></p> </blockquote> <h1 id="ftp--sftp-client"> <a href="#ftp--sftp-client" class="anchor-heading" aria-labelledby="ftp--sftp-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FTP &amp; SFTP Client </h1> <h2 id="ftp-parameters"> <a href="#ftp-parameters" class="anchor-heading" aria-labelledby="ftp-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FTP parameters </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">FTP_USER</span><span class="o">=</span>remote_username
<span class="nv">FTP_HOST</span><span class="o">=</span><span class="nb">hostname</span>
</code></pre></div></div> <h2 id="ftp-testing"> <a href="#ftp-testing" class="anchor-heading" aria-labelledby="ftp-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FTP Testing </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sftp <span class="nv">$FTP_USER</span>@<span class="nv">$FTP_HOST</span>
</code></pre></div></div> <h1 id="http--https-client"> <a href="#http--https-client" class="anchor-heading" aria-labelledby="http--https-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HTTP &amp; HTTPS Client </h1> <h2 id="http-parameter"> <a href="#http-parameter" class="anchor-heading" aria-labelledby="http-parameter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HTTP Parameter </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">HTTP_PROTOCOL</span><span class="o">=</span>http <span class="c"># default http; https if secured.</span>
<span class="nv">HTTP_HOST</span><span class="o">=</span>www.mydomain.com <span class="c"># ex: www.domain.tld</span>
<span class="nv">HTTP_PORT</span><span class="o">=</span>80 <span class="c"># default 80 not secure; 443</span>
<span class="nv">HTTP_ROOT_URL</span><span class="o">=</span><span class="nv">$HTTP_PROTOCOL</span>://<span class="nv">$HTTP_HOST</span>:<span class="nv">$HTTP_PORT</span>
</code></pre></div></div> <h2 id="http-testing-with-curl"> <a href="#http-testing-with-curl" class="anchor-heading" aria-labelledby="http-testing-with-curl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HTTP Testing with Curl </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># dnf install -y curl # yum install -y curl # apt install -y curl</span>

curl <span class="nt">-v</span> <span class="nv">$HTTP_ROOT_URL</span>

curl <span class="nt">-v</span> http://httpbin.org/get  <span class="c"># example</span>

<span class="c"># or if tls/ssl certifate not valid you can temporary ignore that with -k option</span>

curl <span class="nt">-kv</span> <span class="nv">$HTTP_ROOT_URL</span>

curl <span class="nt">-kv</span> https://httpbin.org/get <span class="c"># example</span>
</code></pre></div></div> <blockquote> <p>You can also use <code class="language-plaintext highlighter-rouge">wget</code> to request a http server</p> </blockquote> <h1 id="dns-client"> <a href="#dns-client" class="anchor-heading" aria-labelledby="dns-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DNS Client </h1> <h2 id="dns-parameters"> <a href="#dns-parameters" class="anchor-heading" aria-labelledby="dns-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DNS Parameters </h2> <blockquote> <p>If you don’t know the following values : Ask your administrator, the SMTP manager or your integrator.</p> </blockquote> <p>DNS variables are :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">DNS_DOMAIN</span><span class="o">=</span>mydomain.com     <span class="c"># ex: mydomain.com</span>

<span class="nv">HOST</span><span class="o">=</span>sub.mydomain.com          <span class="c"># ex: mydomain.com or subdomain.mydomain.tld (=FQDN) </span>
</code></pre></div></div> <h2 id="dns-discovery"> <a href="#dns-discovery" class="anchor-heading" aria-labelledby="dns-discovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DNS discovery </h2> <p>Retrieve DNS serveur :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dnf <span class="nb">install</span> <span class="nt">-y</span> bind-utils <span class="c"># yum install -y bind-utils </span>

host <span class="nt">-t</span> ns <span class="nv">$DNS_DOMAIN</span> 

host <span class="nt">-t</span> ns domain.com <span class="c"># example</span>

<span class="c"># or </span>
dig ns <span class="nv">$DNS_DOMAIN</span>

host <span class="nt">-t</span> ns domain.com <span class="c"># example</span>
</code></pre></div></div> <h2 id="dns-test--ip-resolution-from-host"> <a href="#dns-test--ip-resolution-from-host" class="anchor-heading" aria-labelledby="dns-test--ip-resolution-from-host"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DNS Test : Ip resolution from Host </h2> <p>To get ip address from an host or FQDN :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># With Host command</span>

host <span class="nv">$HOST</span>

host  sub.domain.com <span class="c"># example </span>

<span class="c"># or with NSlookup</span>
nslookup <span class="nv">$HOST</span>

nslookup sub.domain.com <span class="c"># example</span>

<span class="c"># or with Dig</span>
dig <span class="nv">$HOST</span>

dig sub.domain.com <span class="c"># example</span>
dig sub.domain.com +short <span class="c"># example</span>
</code></pre></div></div> <h1 id="ldap--ldaps-client"> <a href="#ldap--ldaps-client" class="anchor-heading" aria-labelledby="ldap--ldaps-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LDAP &amp; LDAPS Client </h1> <h2 id="ldap-parameters"> <a href="#ldap-parameters" class="anchor-heading" aria-labelledby="ldap-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LDAP Parameters </h2> <blockquote> <p>If you don’t know the following values : Ask your administrator, the SMTP manager or your integrator.</p> </blockquote> <p>LDAP variables are :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">LDAP_PROTOCOL</span><span class="o">=</span>ldap              <span class="c"># or ldaps</span>
<span class="nv">LDAP_HOST</span><span class="o">=</span>                      <span class="c"># ex: ldap.domain.tld</span>
<span class="nv">LDAP_PORT</span><span class="o">=</span>389                   <span class="c"># default : 389 (LDAP), 636 (LDAPS)</span>
<span class="nv">LDAP_URL</span><span class="o">=</span><span class="nv">$LDAP_PROTOCOL</span>://<span class="nv">$LDAP_HOST</span>:<span class="nv">$LDAP_PORT</span>
<span class="nv">LDAP_USERS_BASE</span><span class="o">=</span>
<span class="nv">LDAP_BIND_FORMAT</span><span class="o">=</span>
<span class="nv">LDAP_GROUPE_ATTRIBUT</span><span class="o">=</span>
<span class="nv">LDAP_USERS_CONNECTION_STRING</span><span class="o">=</span>
<span class="nv">LDAP_USER_CONNECTION_STRING</span><span class="o">=</span>
<span class="nv">LDAP_BIND_READONLY_USER_DN</span><span class="o">=</span>
<span class="nv">LDAP_USER_DN</span><span class="o">=</span>

<span class="nv">LDAP_FILTER</span><span class="o">=</span>

<span class="nv">LDAP_ATTR</span><span class="o">=</span><span class="k">*</span>                     <span class="c"># * for "For all attributs", ex: givenName, sn, mail, uid</span>
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Base:         <span class="s2">"dc=example,dc=com"</span>,
Host:         <span class="s2">"ldap.example.com"</span>,
Port:         389,
UseSSL:       <span class="nb">false</span>,
BindDN:       <span class="s2">"uid=readonlysuer,ou=People,dc=example,dc=com"</span>,
BindPassword: <span class="s2">"readonlypassword"</span>,
UserFilter:   <span class="s2">"(uid=%s)"</span>,
GroupFilter: <span class="s2">"(memberUid=%s)"</span>,
Attributes:   <span class="o">[]</span>string<span class="o">{</span><span class="s2">"givenName"</span>, <span class="s2">"sn"</span>, <span class="s2">"mail"</span>, <span class="s2">"uid"</span><span class="o">}</span>,
</code></pre></div></div> <h2 id="ldap-test"> <a href="#ldap-test" class="anchor-heading" aria-labelledby="ldap-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LDAP Test </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Installation</span>
<span class="c">### RHEL 7</span>
<span class="c"># yum install openldap-client -y </span>
<span class="c">### RHEL 8</span>
<span class="c"># dnf install openldap-clients -y</span>


ldapsearch <span class="nt">-x</span> <span class="nt">-h</span> <span class="nv">$LDAP_HOST</span> <span class="se">\</span>
<span class="nt">-D</span> <span class="nv">$LDAP_BIND_READONLY_USER_DN</span> <span class="se">\</span>
<span class="nt">-W</span> <span class="se">\</span>
<span class="nt">-b</span> <span class="nv">$LDAP_USERS_BASE</span> <span class="se">\</span>
<span class="nt">-s</span> sub <span class="s2">"(</span><span class="k">${</span><span class="nv">LDAP_FILTER</span><span class="k">}</span><span class="s2">)"</span> <span class="nv">$LDAP_ATTR</span>
</code></pre></div></div> <h1 id="smtp-client"> <a href="#smtp-client" class="anchor-heading" aria-labelledby="smtp-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SMTP Client </h1> <h2 id="smtp-parameters"> <a href="#smtp-parameters" class="anchor-heading" aria-labelledby="smtp-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SMTP Parameters </h2> <blockquote> <p>If you don’t know the following values : Ask your administrator, the SMTP manager or your integrator.</p> </blockquote> <p>SMTP variables are :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">SMTP_HOST</span><span class="o">=</span>                              <span class="c"># default</span>
<span class="nv">SMTP_PORT</span><span class="o">=</span>                              <span class="c"># default port 25 not secure, and 587 for encrypted (secure)serveur</span>
<span class="c"># SMTP_USERNAME=                        # optional</span>
<span class="c"># SMTP_PASSWORD=                        # optional</span>

<span class="nv">SMTP_SUBJECT</span><span class="o">=</span><span class="s2">"Test Subject"</span>
<span class="nv">SMTP_BODY</span><span class="o">=</span><span class="s2">"Test Body"</span>
<span class="nv">SMTP_RECIPIENT</span><span class="o">=</span><span class="s2">"recipient@domain.tld"</span>   <span class="c"># Example</span>
<span class="c"># SMTP_FROM="sender@domain.tld"         # Optional</span>
</code></pre></div></div> <h2 id="smtp-test-with-mail-command"> <a href="#smtp-test-with-mail-command" class="anchor-heading" aria-labelledby="smtp-test-with-mail-command"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SMTP Test with Mail command </h2> <p>Test without SMTP Authentication :</p> <blockquote> <p>Troubleshooting : mail command sometimes use /tmp folder, if you don’t have permission to write inside it, mail command could fail.</p> </blockquote> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dnf <span class="nb">install</span> <span class="nt">-y</span> mailx <span class="c"># yum install -y mailx # RHEL installation of mail command</span>

<span class="nb">echo</span> <span class="nv">$SMTP_BODY</span> | mail <span class="nt">-S</span> <span class="nv">smtp</span><span class="o">=</span><span class="nv">$SMTP_HOST</span> <span class="nt">-s</span> <span class="nv">$SMTP_SUBJECT</span> <span class="nv">$SMTP_RECIPIENT</span>

<span class="nb">echo</span> <span class="s2">"body"</span> | mail <span class="nt">-S</span> <span class="nv">smtp</span><span class="o">=</span><span class="nb">hostname</span> <span class="nt">-s</span> <span class="s2">"suject"</span> <span class="s2">"dest@domain.org"</span>
</code></pre></div></div> <p>or</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nv">$SMTP_BODY</span> | mail <span class="nt">-S</span> <span class="nv">smtp</span><span class="o">=</span><span class="nv">$SMTP_HOST</span> <span class="nt">-s</span> <span class="nv">$SMTP_SUBJECT</span> <span class="nv">$SMTP_RECIPIENT</span>
</code></pre></div></div> <p>or</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nv">$SMTP_BODY</span> | mail <span class="nt">-S</span> <span class="nv">smtp</span><span class="o">=</span><span class="nv">$SMTP_HOST</span> <span class="nt">-s</span> <span class="nv">$SMTP_SUBJECT</span> <span class="nt">-r</span> <span class="nv">$SMTP_FROM</span> <span class="nv">$SMTP_RECIPIENT</span>
</code></pre></div></div> <h2 id="smtp-testing-with-telnet"> <a href="#smtp-testing-with-telnet" class="anchor-heading" aria-labelledby="smtp-testing-with-telnet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SMTP Testing with Telnet </h2> <p>With authentication :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Get base64 Login </span>
perl <span class="nt">-MMIME</span>::Base64 <span class="nt">-e</span> <span class="s1">'print encode_base64("LOGIN_HERE");'</span>
<span class="c"># =&gt; Z2NpcaxaaWx4ZZzzV2</span>

<span class="c"># Get base64 Password </span>
perl <span class="nt">-MMIME</span>::Base64 <span class="nt">-e</span> <span class="s1">'print encode_base64("PWD_HERE");'</span>
<span class="c"># =&gt; Z2NpNOTaREALexE4ZGV2</span>

telnet <span class="nv">$SMTP_HOST</span> <span class="nv">$SMTP_PORT</span>
EHLO mydomain.com
AUTH LOGIN
Z2NpcmVjdWx4ZGV2
Z2NpFAUSE_CHAINEcmVmdWx4ZGV2
<span class="c"># =&gt; "235 2.7.0 Authentication successful"</span>

MAIL FROM:<span class="nv">$SMTP_FROM</span>
RCPT TO:&lt;<span class="k">${</span><span class="nv">SMTP_RECIPIENT</span><span class="k">}</span><span class="o">&gt;</span> <span class="nv">NOTIFY</span><span class="o">=</span>success,failure
DATA
Subject: <span class="nv">$SMTP_SUBJECT</span>
&lt;empty line, press <span class="s2">"return"</span> <span class="nb">command</span> <span class="o">&gt;</span>
<span class="nv">$SMTP_BODY</span>
<span class="nb">.</span>
<span class="c"># Press "." at on the last line to send email.</span>
</code></pre></div></div> <h1 id="git-client"> <a href="#git-client" class="anchor-heading" aria-labelledby="git-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GIT Client </h1> <h2 id="git-parameter"> <a href="#git-parameter" class="anchor-heading" aria-labelledby="git-parameter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Git Parameter </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">GIT_URL</span><span class="o">=</span>https://git.domain.com/repository <span class="c"># </span>
</code></pre></div></div> <h2 id="git-testing"> <a href="#git-testing" class="anchor-heading" aria-labelledby="git-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Git Testing </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nv">$GIT_URL</span>
</code></pre></div></div> <h1 id="show-listened-ports"> <a href="#show-listened-ports" class="anchor-heading" aria-labelledby="show-listened-ports"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Show Listened ports </h1> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dnf <span class="nb">install</span> <span class="nt">-y</span> net-tools <span class="c"># yum install -y net-tools </span>
netstat <span class="nt">-planteu</span>
</code></pre></div></div> <h1 id="proxy-http--reach-a-http-serveur-through-a-proxy"> <a href="#proxy-http--reach-a-http-serveur-through-a-proxy" class="anchor-heading" aria-labelledby="proxy-http--reach-a-http-serveur-through-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PROXY HTTP : Reach a HTTP serveur Through a Proxy </h1> <blockquote> <p>How to set proxy which allow to reach a http serveur on another network (commonly on internet)</p> </blockquote> <p>Proxy parameters:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PROXY_HOST</span><span class="o">=</span>proxy.domain.com
<span class="nv">PROXY_PORT</span><span class="o">=</span>8080              <span class="c"># ex: 8080, or 443, etc.</span>
<span class="c"># PROXY_USERNAME=__YOUR_PROXY_USERNAME__ </span>
<span class="c"># PROXY_PASSWORD=__YOUR_PROXY_PASSWORD__</span>

<span class="nv">URL</span><span class="o">=</span>https://httpbin.org/get <span class="c"># Example</span>
</code></pre></div></div> <h2 id="set-proxy-globaly-on-linux"> <a href="#set-proxy-globaly-on-linux" class="anchor-heading" aria-labelledby="set-proxy-globaly-on-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set proxy globaly on linux </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/profile.d/http_proxy.sh

<span class="nb">export </span><span class="nv">http_proxy</span><span class="o">=</span><span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span>
<span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span><span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span>

</code></pre></div></div> <p>Example :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/profile.d/http_proxy.sh

<span class="nb">export </span><span class="nv">http_proxy</span><span class="o">=</span>proxy.domain.com:443
<span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span>proxy.domain.com:443

</code></pre></div></div> <p>You can check if this variables are loaded :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">env</span> | <span class="nb">grep</span> <span class="nt">-i</span> <span class="s2">"proxy"</span>
</code></pre></div></div> <h2 id="curl-behind-a-proxy"> <a href="#curl-behind-a-proxy" class="anchor-heading" aria-labelledby="curl-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Curl behind a proxy </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">--proxy</span> <span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span>  <span class="nv">$URL</span>

<span class="c"># Exemple </span>
curl <span class="nt">-kv</span> <span class="nt">--proxy</span> http://myproxy.domain.tld:8080  https://httpbin.org/get

</code></pre></div></div> <h2 id="git-behind-a-proxy"> <a href="#git-behind-a-proxy" class="anchor-heading" aria-labelledby="git-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Git behind a proxy </h2> <p>Globaly :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> http.proxy http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_HOST</span>
git config <span class="nt">--global</span> https.proxy http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_HOST</span> 

<span class="c"># unset</span>
<span class="c"># git config --global --unset http.proxy</span>
<span class="c"># git config --global --unset https.proxy</span>
</code></pre></div></div> <p>Specific for a repository :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> http.https://domain.com.proxy http://proxyUsername:proxyPassword@proxy.server.com:port
</code></pre></div></div> <p>or edit the ~/.gitconfig :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>http]
<span class="o">[</span>http <span class="s2">"https://domain.com"</span><span class="o">]</span>
	proxy <span class="o">=</span> http://proxyUsername:proxyPassword@proxy.server.com:port
</code></pre></div></div> <h2 id="docker-behind-a-proxy"> <a href="#docker-behind-a-proxy" class="anchor-heading" aria-labelledby="docker-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker behind a proxy </h2> <h3 id="docker-daemon-add-proxy-settings"> <a href="#docker-daemon-add-proxy-settings" class="anchor-heading" aria-labelledby="docker-daemon-add-proxy-settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker daemon add proxy settings </h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /etc/systemd/system/docker.service.d/http-proxy.conf
<span class="o">[</span>Service]
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"HTTP_PROXY=http://</span><span class="nv">$PROXY_HOST</span><span class="s2">:</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"HTTPS_PROXY=http://</span><span class="nv">$PROXY_HOST</span><span class="s2">:</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"NO_PROXY=localhost,mydomain.com"</span>

...

<span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl restart docker

</code></pre></div></div> <h3 id="docker-build-behind-proxy"> <a href="#docker-build-behind-proxy" class="anchor-heading" aria-labelledby="docker-build-behind-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker build behind Proxy </h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">--build-arg</span> <span class="nv">http_proxy</span><span class="o">=</span>http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span> <span class="nt">--build-arg</span> <span class="nv">https_proxy</span><span class="o">=</span>http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span> <span class="nb">.</span> 

<span class="c"># Example for MAVEN inside a container </span>
<span class="c"># Add at top of Dockerfile : ARG MAVEN_OPTS</span>
docker build <span class="nt">--build-arg</span> <span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="s2">"-Dhttp.proxyHost=</span><span class="nv">$PROXY_HOST</span><span class="s2"> -Dhttp.proxyPort=</span><span class="nv">$PROXY_PORT</span><span class="s2"> -Dhttps.proxyHost=</span><span class="nv">$PROXY_HOST</span><span class="s2"> -Dhttps.proxyPort=</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span> <span class="nb">.</span>


</code></pre></div></div> <h2 id="npm-javascript-packager-behind-a-proxy"> <a href="#npm-javascript-packager-behind-a-proxy" class="anchor-heading" aria-labelledby="npm-javascript-packager-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NPM (Javascript packager) behind a Proxy </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm config <span class="nb">set </span>proxy http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span>
npm config <span class="nb">set </span>https-proxy http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span>
</code></pre></div></div> <h2 id="pip-python-packager-behind-a-proxy"> <a href="#pip-python-packager-behind-a-proxy" class="anchor-heading" aria-labelledby="pip-python-packager-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PIP (Python packager) behind a Proxy </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--proxy</span><span class="o">=</span>http://<span class="nv">$PROXY_HOST</span>:<span class="nv">$PROXY_PORT</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div> <h2 id="gitlab-runner-behind-a-proxy"> <a href="#gitlab-runner-behind-a-proxy" class="anchor-heading" aria-labelledby="gitlab-runner-behind-a-proxy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Gitlab Runner behind a proxy </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /etc/systemd/system/gitlab-runner.service.d
vi /etc/systemd/system/gitlab-runner.service.d/http-proxy.conf

<span class="o">[</span>Service]
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"HTTP_PROXY=http://</span><span class="nv">$PROXY_HOST</span><span class="s2">:</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"HTTPS_PROXY=http://</span><span class="nv">$PROXY_HOST</span><span class="s2">:</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span>
<span class="c"># save &amp; quit ESC +  ":wq"</span>

systemctl daemon-reload
<span class="nb">sudo </span>systemctl restart gitlab-runner
systemctl show <span class="nt">--property</span><span class="o">=</span>Environment gitlab-runner
gitlab-runner stop
gitlab-runner start
</code></pre></div></div> <h2 id="maven-java-packaging"> <a href="#maven-java-packaging" class="anchor-heading" aria-labelledby="maven-java-packaging"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maven (Java Packaging) </h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="s2">"-Dhttp.proxyHost=</span><span class="nv">$PROXY_HOST</span><span class="s2"> -Dhttp.proxyPort=</span><span class="nv">$PROXY_PORT</span><span class="s2"> -Dhttps.proxyHost=</span><span class="nv">$PROXY_HOST</span><span class="s2"> -Dhttps.proxyPort=</span><span class="nv">$PROXY_PORT</span><span class="s2">"</span>
<span class="c"># set MAVEN_OPTS.</span>
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
